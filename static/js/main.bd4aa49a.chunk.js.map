{"version":3,"sources":["context/token.js","services/spotifyAuth.js","components/Button/index.js","components/Header/index.js","services/spotifyService.js","hooks/useInterval.js","mixins/consts.js","pages/Intro/index.js","components/Error/index.js","components/Icon/index.js","icons/back.svg","icons/edit.svg","icons/next.svg","icons/pause.svg","icons/play.svg","icons/prev.svg","icons/shuffle.svg","icons/smallArrow.svg","modules/Player/index.js","modules/TimerPlayer/reducer.js","modules/TimerPlayer/index.js","modules/TimerPlayer/utils.js","pages/Player/index.js","components/Playlist/index.js","modules/Playlists/index.js","components/EditBox/index.js","utils/isInRange.js","components/InputNumber/index.js","modules/PlaylistsSelector/index.js","pages/Setup/consts.js","pages/Setup/utils.js","pages/Setup/reducer.js","pages/Setup/index.js","App.js","reportWebVitals.js","index.js"],"names":["React","createContext","LINK","process","join","getToken","oldToken","localStorage","getItem","token","window","location","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","setItem","resetToken","clear","replace","Button","onClick","isDisabled","isHidden","isAccent","children","useSpring","scale","setSpring","classes","clssnames","button","className","disabled","onMouseEnter","onMouseLeave","style","transform","interpolate","s","defaultProps","Header","label","BASE","headers","Authorization","requestWrapper","config","a","successCallback","errorCallback","axios","then","catch","response","data","error","method","url","items","context","context_uri","pause","getPlayer","is_playing","devices","useInterval","callback","duration","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","SECOND","MINUTE","TOKEN_ERROR","noop","Intro","useContext","TokenContext","useState","isConnected","setIsConnected","isTokenExpired","setTokenExpired","handleError","status","handeSuccess","hasActiveDevice","some","is_active","getDevices","to","href","Error","message","Icon","render","styles","width","height","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","d","stroke","SvgBack","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","ForwardRef","SvgEdit","fillRule","SvgNext","SvgPause","SvgPlay","SvgPrev","Player","handlePlay","handlePause","track","setTrack","isPlaying","setIsPlaying","useCallback","playStateButtons","previous","next","bgImage","album","images","trackArtists","artists","map","artist","name","trackLabel","backgroundImage","initialState","currentIndex","playlist","timeRemaining","reducer","state","action","type","time","TimerPlayer","playlists","handleReset","useReducer","dispatch","play","uri","err","Math","floor","slice","Playlist","image","Playlists","setPlaylists","setError","fetchPlaylists","EditBox","content","isInRange","value","min","max","InputNumber","suffix","placeholder","setValue","isValid","setIsValid","onChange","e","parsed","parseInt","Number","isNaN","parseNumber","PlaylistsSelector","syncPlaylist","setTime","showPlaylists","setShowPlaylists","MIN_TIME","MAX_TIME","STAGE","WORK","REST","validate","work","rest","currentSetup","Setup","isWorkSetup","nextButtonContent","App","setToken","useLocation","transitions","useTransition","pathname","from","opacity","position","enter","leave","currentToken","itemLocation","div","Provider","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.bd4aa49a.chunk.js","sourcesContent":["import React from 'react';\nexport default React.createContext('token');\n","const authEndpoint = 'https://accounts.spotify.com/authorize';\nconst clientId = '8f7580eb52f24096a8c0be232f9dd439';\nconst redirectUri = process.env.REACT_APP_HOST_NAME;\nconst scopes = [\n  'user-read-currently-playing',\n  'user-read-playback-state',\n  'user-modify-playback-state',\n  'playlist-read-private',\n  'playlist-read-collaborative'\n];\n\nexport const LINK = `${ authEndpoint }?client_id=${ clientId }&redirect_uri=${ redirectUri }&scope=${ scopes.join('%20') }&response_type=token&show_dialog=true`;\nexport const getToken = () => {\n  const oldToken = localStorage.getItem('spotifyToken');\n\n  if (oldToken) {\n    return oldToken;\n  }\n\n  const token = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce((initial, item) => {\n      if (item) {\n        const parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n\n      return initial;\n    }, {})\n    .access_token;\n\n  token && localStorage.setItem('spotifyToken', token);\n\n  window.location.hash = '';\n\n\n  return token;\n};\n\nexport const resetToken = () => {\n  localStorage.clear();\n  window.location.replace('/');\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSpring, animated } from 'react-spring';\nimport clssnames from 'classnames';\nimport './styles.scss';\n\nexport default function Button({ onClick, isDisabled, isHidden, isAccent, children }) {\n  const [ { scale }, setSpring ] = useSpring(() => ({ scale: 1 }));\n  const classes = clssnames({\n    'Button': true,\n    'is-disabled': isDisabled,\n    'is-hidden': isHidden,\n    'is-accent': isAccent\n  });\n\n  return (\n    <animated.button\n      className={classes}\n      onClick={onClick}\n      disabled={isDisabled}\n      onMouseEnter={() => setSpring({ scale: 1.05 })}\n      onMouseLeave={() => setSpring({ scale: 1 })}\n      style={{ transform: scale.interpolate(s => `scale(${ s })`) }}>\n      {children}\n    </animated.button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n  isDisabled: PropTypes.bool,\n  isAccent: PropTypes.bool,\n  isHidden: PropTypes.bool,\n  children: PropTypes.any\n};\n\nButton.defaultProps = {\n  isDisabled: false,\n  isHidden: false,\n  isAccent: false\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nexport default function Header({ label }) {\n  return <div className=\"Header\">{label}</div>;\n}\n\nHeader.propTypes = {\n  label: PropTypes.string\n};\n","import axios from 'axios';\n\nconst BASE = 'https://api.spotify.com/v1/me';\nconst headers = token => ({\n  headers: {\n    Authorization: `Bearer ${ token }`\n  }\n});\n\nasync function requestWrapper(config, successCallback = () => {}, errorCallback = () => {}) {\n  return await axios(config)\n    .then(successCallback)\n    .catch(({ response }) => errorCallback(response.data.error));\n}\n\n\nexport async function fetchPlaylists({ token }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'get',\n    url: `${ BASE }/playlists`,\n    ...headers(token)\n  },\n  response => successCallback(response.data.items),\n  errorCallback);\n}\n\nexport async function play({ token, context }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'put',\n    url: `${ BASE }/player/play`,\n    ...headers(token),\n    ...(context ? {\n      data: {\n        context_uri: context // eslint-disable-line\n      }\n    } : {})\n  },\n  successCallback,\n  errorCallback);\n}\n\nexport async function pause({ token }, successCallback, errorCallback) {\n  const onSuccess = ({ data }) => {\n    if (data?.is_playing) {\n      requestWrapper({\n        method: 'put',\n        url: `${ BASE }/player/pause`,\n        ...headers(token)\n      },\n      successCallback,\n      errorCallback);\n    }\n  };\n\n  const onError = errorCallback;\n\n  getPlayer({ token }, onSuccess, onError);\n}\n\nexport async function next({ token }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'post',\n    url: `${ BASE }/player/next`,\n    ...headers(token)\n  },\n  successCallback,\n  errorCallback);\n}\n\nexport async function previous({ token }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'post',\n    url: `${ BASE }/player/previous`,\n    ...headers(token)\n  },\n  successCallback,\n  errorCallback);\n}\n\nexport async function getPlayer({ token }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'get',\n    url: `${ BASE }/player`,\n    ...headers(token)\n  },\n  successCallback,\n  errorCallback);\n}\n\nexport async function getDevices({ token }, successCallback, errorCallback) {\n  requestWrapper({\n    method: 'get',\n    url: `${ BASE }/player/devices`,\n    ...headers(token)\n  },\n  response => successCallback(response.data.devices),\n  errorCallback);\n}\n","import { useEffect, useRef } from 'react';\n\nexport default function useInterval(callback, duration) {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (duration !== null) {\n      const id = setInterval(() => savedCallback.current(), duration);\n\n      return () => clearInterval(id);\n    }\n  }, [duration]);\n}\n","export const SECOND = 1000;\nexport const MINUTE = 60;\n\nexport const TOKEN_ERROR = 401;\n\nexport const noop = () => {};\n","import React, { useState, useContext } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport TokenContext from 'context/token';\nimport Button from 'components/Button';\nimport Header from 'components/Header';\nimport { LINK, resetToken } from 'services/spotifyAuth';\nimport { getDevices } from 'services/spotifyService';\nimport { useInterval } from 'hooks';\nimport { SECOND, TOKEN_ERROR } from 'mixins/consts';\nimport './styles.scss';\n\nexport default function Intro() {\n  const token = useContext(TokenContext);\n  const [ isConnected, setIsConnected ] = useState(false);\n  const [ isTokenExpired, setTokenExpired ] = useState(false);\n\n  const handleError = error => {\n    if (error.status === TOKEN_ERROR) {\n      setTokenExpired(true);\n    }\n    setIsConnected(false);\n  };\n  const handeSuccess = devices => {\n    const hasActiveDevice = devices.some(item => item.is_active);\n    setIsConnected(hasActiveDevice);\n  };\n\n  useInterval(() =>\n    token && getDevices({ token },\n      handeSuccess,\n      handleError),\n  SECOND);\n\n  return (\n    <div className=\"Intro\">\n      <Header label=\"Focusify\"/>\n      <p className=\"Intro__description\">Welcome to <span className=\"is-app-name\">Focusify</span>, the place where concentration meets music.</p>\n      <p className=\"Intro__description\">\n        Pick your Spotify playlists - one to focus on work and one to relax during rest.\n        They will switch when the time for each part of the session will pass.\n        Use the music to manage your time and get things done!\n      </p>\n      <div className=\"Intro__setup\">\n        {\n          token && !isTokenExpired ?\n            <>\n              {\n                isConnected ?\n                  <div className=\"Intro__info\">Your Spotify app is connected.</div> :\n                  <div className=\"Intro__info has-error\">Your Spotify app is disconnected. <br/> Open Spotify and try to play any track.</div>\n              }\n              <Button isDisabled={!isConnected}>\n                <RouterLink to=\"/setup\">Setup session</RouterLink>\n              </Button>\n            </> :\n            <Button onClick={() => resetToken()} isAccent>\n              <a href={LINK}>Login to spotify</a>\n            </Button>\n        }\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport { resetToken } from 'services/spotifyAuth';\nimport { TOKEN_ERROR } from 'mixins/consts';\nimport './styles.scss';\n\nexport default function Error({ error }) {\n  return (\n    <div className=\"Error\">\n      <h1 className=\"Error__header\">Something went wrong</h1>\n      <p className=\"Error__description\">{error.message}</p>\n\n      {error.status === TOKEN_ERROR && (\n        <Button onClick={() => resetToken()}>Log in again</Button>\n      )}\n    </div>\n  );\n}\n\nError.propTypes = {\n  error: PropTypes.object\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nexport default function Icon({ render, onClick, width, height }) {\n  const styles = {\n    width: width || '1rem',\n    height: height || '1rem'\n  };\n\n  return <div style={styles} className=\"Icon\" onClick={onClick}>{render()}</div>;\n}\n\nIcon.propTypes = {\n  render: PropTypes.func.isRequired,\n  onClick: PropTypes.func,\n  width: PropTypes.oneOf([ PropTypes.string, PropTypes.number ]),\n  height: PropTypes.oneOf([ PropTypes.string, PropTypes.number ])\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h26v26H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M.081.243h48v48h-48v-48z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"null\",\n  d: \"M23.668 10.49H5.918l8.146-8.427L12-.073.332 12 12 24.073l2.064-2.136-8.146-8.428h17.75v-3.018z\"\n}));\n\nfunction SvgBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    fill: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBack);\nexport default __webpack_public_path__ + \"static/media/back.027ff8a6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h26v26H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.09 21.983H.91c-.466 0-.831.382-.831.825s.385.825.83.825H23.11c.467 0 .832-.382.832-.825s-.386-.825-.852-.825zM.079 14.677l-.02 3.925c0 .221.08.442.243.603a.815.815 0 00.588.242l3.933-.02c.223 0 .426-.08.588-.242L18.995 5.7a.846.846 0 000-1.187L15.102.608a.861.861 0 00-1.196 0l-2.717 2.717L.322 14.093a.893.893 0 00-.243.584zM14.514 2.379l2.737 2.717-1.54 1.53-2.738-2.717 1.541-1.53zM1.761 15.04l10.016-9.943 2.737 2.718-10.016 9.922-2.757.02.02-2.717z\"\n})));\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    fill: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.4c4e4852.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h802v602H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-11.72-11.129l47.492.054-.052 46.204-47.492-.054z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M.114 23.537l16.833-11.531L.14.436.114 23.537zM4.089 7.871l5.992 4.127L4.08 16.11l.01-8.24zM19.93.458l3.957.005-.026 23.101-3.958-.004L19.93.458z\"\n})));\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.dc7ad2c0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h26v26H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-11.37-8.519h46.74v41.038h-46.74z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M.315 23.97h7.79V.03H.315v23.94zM15.895.03v23.94h7.79V.03h-7.79z\"\n})));\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.f2c5794c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h26v26H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-13.765-8.46l46.42-.035.032 40.954-46.42.036z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M5.588 6.27l10.198 5.725-10.189 5.742-.009-11.468zM1.715.06l.018 23.891L23 11.99 1.715.06z\"\n})));\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.2d02ed82.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h3.791v3.791H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-11.969-11.902h48.011v47.81h-48.011z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M.034.05h4v23.905h-4V.05zm7.001 11.953L24.04 23.955V.05L7.035 12.003zm13.003 4.263l-6.061-4.263 6.061-4.263v8.526z\"\n})));\n\nfunction SvgPrev(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrev);\nexport default __webpack_public_path__ + \"static/media/prev.9c6a1502.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h26v26H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-5.97-6.007h36.015v36.014H-5.97z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M9.921 7.753L2.148-.005.032 2.111l7.759 7.758 2.13-2.116zM15.79-.005l3.061 3.061L.032 21.89l2.116 2.116L20.981 5.187l3.061 3.061V-.005H15.79zm.495 14.12l-2.116 2.117 4.697 4.697-3.076 3.076h8.253v-8.253l-3.061 3.06-4.697-4.696z\"\n})));\n\nfunction SvgShuffle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShuffle);\nexport default __webpack_public_path__ + \"static/media/shuffle.19eb37bd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M-1-1h3.791v3.791H-1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  stroke: \"null\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-2.406-2.421h28.812v28.948H-2.406z\",\n  opacity: 0.87\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M18.615 2.247L16.478.112 4.605 12.053 16.49 23.994l2.125-2.135-9.76-9.806z\"\n})));\n\nfunction SvgSmallArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSmallArrow);\nexport default __webpack_public_path__ + \"static/media/smallArrow.6048cedb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useInterval } from 'hooks';\nimport Button from 'components/Button';\nimport Icon from 'components/Icon';\nimport TokenContext from 'context/token';\nimport * as Icons from 'icons';\nimport { getPlayer, next, previous } from 'services/spotifyService';\nimport { noop, SECOND } from 'mixins/consts';\nimport './styles.scss';\n\nexport default function Player({ handlePlay, handlePause, handleError, error }) {\n  const token = useContext(TokenContext);\n  const [ track, setTrack ] = useState(null);\n  const [ isPlaying, setIsPlaying ] = useState(false);\n\n  const fetchTrack = useCallback(() => {\n    getPlayer({ token }, response => {\n      const { item } = response.data;\n      if (item && item?.id !== track?.id) {\n        setTrack(item);\n      }\n    }, noop, handleError );\n  }, [ token, track, handleError ]);\n\n  useInterval(fetchTrack, isPlaying ? SECOND : null);\n\n  useEffect(() => error && setIsPlaying(false), [error]);\n\n  function play() {\n    setIsPlaying(true);\n    handlePlay();\n  }\n\n  function pause() {\n    setIsPlaying(false);\n    handlePause();\n  }\n\n  function prevTrack() {\n    previous({ token });\n  }\n\n  function nextTrack() {\n    next({ token });\n  }\n\n  const playStateButtons = (\n    <>\n      <Button onClick={prevTrack}><Icon render={() => <Icons.Prev />} /></Button>\n      <Button onClick={pause}><Icon render={() => <Icons.Pause />} /></Button>\n      <Button onClick={nextTrack}><Icon render={() => <Icons.Next />} /></Button>\n    </>\n  );\n  const bgImage = track?.album.images[0].url;\n  const trackArtists = track?.artists.map(artist => artist.name).join(', ');\n  const trackLabel = `${ trackArtists } - ${ track?.name }`;\n\n  return (\n    <div className=\"Player\">\n      <Button>\n        <Link to=\"/\">\n          <Icon render={() => <Icons.Back />} />\n        </Link>\n      </Button>\n      <div className=\"Player__cover\" style={bgImage && { backgroundImage: `url(${ bgImage })` }}></div>\n      {\n        isPlaying && track ?\n          <div className=\"Player__label\" title={trackLabel}>{trackLabel}</div> :\n          <div className=\"Player__label\"></div>\n\n      }\n      <div className=\"Player__buttons\">\n        {isPlaying ? playStateButtons : <Button onClick={play}><Icon render={() => <Icons.Play />} /></Button>}\n      </div>\n    </div>\n  );\n}\n\nPlayer.propTypes = {\n  error: PropTypes.object,\n  handleError: PropTypes.func,\n  handlePlay: PropTypes.func,\n  handlePause: PropTypes.func,\n  handleReset: PropTypes.func\n};\n","import { SECOND, MINUTE } from 'mixins/consts';\n\nexport const initialState = {\n  duration: null,\n  currentIndex: 0,\n  playlist: null,\n  isPlaying: null,\n  timeRemaining: null,\n  error: null\n};\n\nexport function reducer(state, action) {\n  const { type, playlist, isPlaying, error } = action;\n\n  switch (type) {\n  case 'setPlaylist':\n    return {\n      ...state,\n      playlist,\n      duration: playlist.time * MINUTE * SECOND,\n      timeRemaining: playlist.time * MINUTE\n    };\n  case 'toggleSession':\n    return {\n      ...state,\n      currentIndex: state.currentIndex ? 0 : 1\n    };\n  case 'decreaseTime':\n    return {\n      ...state,\n      timeRemaining: state.timeRemaining - 1\n    };\n  case 'togglePlay':\n    return {\n      ...state,\n      error: null,\n      isPlaying\n    };\n  case 'error':\n    return {\n      ...state,\n      isPlaying: null,\n      error\n    };\n  default:\n    throw new Error(`Unknown action: ${ type }`);\n  }\n}\n","import React, { useEffect, useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from 'components/Header';\nimport Error from 'components/Error';\nimport Player from 'modules/Player';\nimport TokenContext from 'context/token';\nimport { useInterval } from 'hooks';\nimport { play, pause } from 'services/spotifyService';\nimport { secondsToMinutes } from './utils';\nimport { reducer, initialState } from './reducer';\nimport { SECOND, noop } from 'mixins/consts';\nimport './styles.scss';\n\nexport default function TimerPlayer({ playlists, handleReset }) {\n  const token = useContext(TokenContext);\n  const [ state, dispatch ] = useReducer(reducer, initialState);\n  const { isPlaying, playlist, currentIndex, duration, timeRemaining, error } = state;\n\n  useEffect(() => {\n    if (isPlaying) {\n      const current = playlists[currentIndex];\n\n      play({ token, context: current.playlist.uri },\n        noop,\n        err => dispatch({ type: 'error', error: err }));\n\n      dispatch({ type: 'setPlaylist', playlist: current });\n    } else if (isPlaying !== null) { // Skip if player has not been played yet\n      pause({ token },\n        noop,\n        err => dispatch({ type: 'error', error: err }));\n    }\n  }, [ playlists, token, isPlaying, currentIndex ]);\n\n  useInterval(() => dispatch({ type: 'toggleSession' }), isPlaying ? duration : null);\n\n  useInterval(() => dispatch({ type: 'decreaseTime' }), isPlaying ? SECOND : null);\n\n  // Unmounting cleanup - after session reset playback should be paused\n  useEffect(() => () => pause({ token }), [token]);\n\n  return (\n    <div className=\"TimerPlayer\">\n      <Header label={playlist?.label || 'Session'}/>\n      <div className=\"TimerPlayer__wrapper\">\n        <Player\n          error={error}\n          handleError={err => dispatch({ type: 'error', error: err })}\n          handlePlay={() => dispatch({ type: 'togglePlay', isPlaying: true })}\n          handlePause={() => dispatch({ type: 'togglePlay', isPlaying: false })}\n          handleReset={handleReset}/>\n\n        {isPlaying && playlist &&\n          <div className=\"TimerPlayer__time\">\n            {secondsToMinutes(timeRemaining)}\n            <div className=\"TimerPlayer__time-description\">to the end of the {playlist.label} session</div>\n          </div>}\n\n        {error && <Error error={error} />}\n      </div>\n    </div>\n  );\n}\n\nTimerPlayer.propTypes = {\n  playlists: PropTypes.arrayOf(PropTypes.shape({\n    time: PropTypes.number,\n    playlist: PropTypes.object\n  })),\n  handleReset: PropTypes.func\n};\n","export function secondsToMinutes(time){\n  return `${ Math.floor(time / 60) }:${ (`0${ Math.floor(time % 60) }`).slice(-2) }`; // eslint-disable-line no-magic-numbers\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TimerPlayer from 'modules/TimerPlayer';\n\nexport default function Player({ playlists, handleReset }) {\n  return (\n    <TimerPlayer\n      playlists={playlists}\n      handleReset={handleReset} />\n  );\n}\n\nPlayer.propTypes = {\n  playlists: PropTypes.array,\n  handleReset: PropTypes.func\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.scss';\n\nexport default function Playlist({ playlist, onClick }) {\n  const label = playlist.name;\n  const image = playlist.images[0].url;\n\n  return (\n    <li\n      className=\"Playlist\"\n      style={{ backgroundImage: `url(${ image })` }}\n      title={label}\n      onClick={() => onClick(playlist)}>\n    </li>\n  );\n}\n\nPlaylist.propTypes = {\n  playlist: PropTypes.shape({\n    name: PropTypes.string,\n    images: PropTypes.array\n  }),\n  onClick: PropTypes.func\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Playlist from 'components/Playlist';\nimport Error from 'components/Error';\nimport TokenContext from 'context/token';\nimport { fetchPlaylists } from 'services/spotifyService';\nimport './styles.scss';\n\nexport default function Playlists({ onClick }){\n  const token = useContext(TokenContext);\n  const [ playlists, setPlaylists ] = useState(null);\n  const [ error, setError ] = useState(null);\n\n  useEffect(() => fetchPlaylists({ token }, setPlaylists, setError), [token]);\n\n  if (error) {\n    return <Error error={error}/>;\n  }\n\n  if (playlists && !playlists.length) {\n    const noPlaylistsError = {\n      message: 'Your Spotify account has no playlists saved. Go to Spotify application and save some playlists.'\n    };\n\n    return <Error error={noPlaylistsError}/>;\n  }\n\n  return playlists &&\n    <ul className=\"Playlists\">\n      {playlists.map(playlist => <Playlist key={playlist.id} playlist={playlist} onClick={onClick}/>)}\n    </ul>;\n}\n\nPlaylists.propTypes = {\n  onClick: PropTypes.func\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/Icon';\nimport { Edit } from 'icons';\nimport './styles.scss';\n\nexport default function EditBox({ label, content, onClick }) {\n  return (\n    <div className=\"EditBox\">\n      <span className=\"EditBox__label\">{label}</span>\n      <div className=\"EditBox__content\">\n        <span className=\"EditBox__content-text\" title={content}>{content}</span>\n        <Icon onClick={onClick} render={() => <Edit />} />\n      </div>\n    </div>\n  );\n}\n\nEditBox.propTypes = {\n  onClick: PropTypes.func,\n  label: PropTypes.string,\n  content: PropTypes.string\n};\n","export default function isInRange(value, min, max) {\n  return !!value && value <= max && value >= min;\n}\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { isInRange } from 'utils';\nimport './styles.scss';\n\nfunction parseNumber(value) {\n  const parsed = value && parseInt(value.split('.').join(','));\n\n  return Number.isNaN(parsed) ? '' : parsed;\n}\n\nexport default function InputNumber({ label, suffix, placeholder, value, setValue, min, max }) {\n  const [ isValid, setIsValid ] = useState(false);\n\n  useEffect(() => {\n    setIsValid(isInRange(value, min, max));\n  }, [ min, max, value ]);\n\n  return (\n    <div className={`InputNumber ${ isValid ? '' : 'has-error' }`}>\n      <span className=\"InputNumber__label\">{label}</span>\n      <input\n        type=\"text\"\n        className=\"InputNumber__input\"\n        placeholder={placeholder}\n        onChange={(e => setValue(parseNumber(e.target.value)))}\n        value={value}></input>\n      {suffix && <span className=\"InputNumber__suffix\">{suffix}</span>}\n    </div>\n  );\n}\n\nInputNumber.propTypes = {\n  label: PropTypes.string,\n  suffix: PropTypes.string,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([ PropTypes.number, PropTypes.oneOf(['']) ]),\n  setValue: PropTypes.func,\n  min: PropTypes.number,\n  max: PropTypes.number\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Playlists from 'modules/Playlists';\nimport EditBox from 'components/EditBox';\nimport InputNumber from 'components/InputNumber';\nimport './styles.scss';\n\nexport default function PlaylistsSelector({ playlist, syncPlaylist, label, time, setTime }) {\n  const [ showPlaylists, setShowPlaylists ] = useState(false);\n  const bgImage = playlist && playlist.images[0].url;\n\n  const selectPlaylist = item => {\n    syncPlaylist(item);\n    setShowPlaylists(false);\n  };\n\n  useEffect(() => () => setShowPlaylists(false), [label]); // Cleanup when session part changes\n\n  return (\n    <div className=\"PlaylistsSelector\" style={bgImage && { backgroundImage: `url(${ bgImage })` }}>\n      {\n        !showPlaylists &&\n          <div className=\"PlaylistsSelector__form\">\n            <EditBox\n              label=\"Playlist\"\n              content={playlist?.name || 'No playlist selected. Pick one...'}\n              onClick={() => setShowPlaylists(true)}/>\n            <InputNumber\n              label=\"Duration\"\n              suffix=\"min\"\n              value={time}\n              setValue={setTime}\n              max={120}\n              min={1}/>\n          </div>\n      }\n\n      { showPlaylists && <Playlists onClick={selectPlaylist}/> }\n    </div>\n  );\n}\n\nPlaylistsSelector.propTypes = {\n  playlist: PropTypes.shape({\n    images: PropTypes.array,\n    name: PropTypes.string\n  }),\n  syncPlaylist: PropTypes.func,\n  label: PropTypes.string,\n  time: PropTypes.oneOfType([ PropTypes.number, PropTypes.oneOf(['']) ]),\n  setTime: PropTypes.func\n};\n","export const DEFAULT_WORK_TIME = 45;\nexport const DEFAULT_REST_TIME = 15;\nexport const MIN_TIME = 1;\nexport const MAX_TIME = 120;\n\nexport const STAGE = {\n  WORK: 'work',\n  REST: 'rest'\n};\n","import { isInRange } from 'utils';\nimport { MIN_TIME, MAX_TIME } from './consts';\n\nexport function validate({ work, rest }) {\n  return !!(\n    work.playlist &&\n    rest.playlist &&\n    isInRange(work.time, MIN_TIME, MAX_TIME) &&\n    isInRange(rest.time, MIN_TIME, MAX_TIME));\n}\n","import { DEFAULT_WORK_TIME, DEFAULT_REST_TIME, STAGE } from './consts';\nimport { validate } from './utils';\n\nexport const initialState = {\n  isValid: false,\n  currentSetup: STAGE.WORK,\n  [STAGE.WORK]: {\n    label: 'Work',\n    playlist: null,\n    time: DEFAULT_WORK_TIME\n  },\n  [STAGE.REST]: {\n    label: 'Rest',\n    playlist: null,\n    time: DEFAULT_REST_TIME\n  }\n};\n\nexport function reducer(state, action) {\n  const { currentSetup } = state;\n\n  switch (action.type) {\n  case 'validate':\n    return {\n      ...state,\n      isValid: validate(state)\n    };\n\n  case 'back':\n    return {\n      ...state,\n      currentSetup: STAGE.WORK\n    };\n\n  case 'next':\n    return {\n      ...state,\n      currentSetup: STAGE.REST\n    };\n\n  case 'setPlaylist':\n    return {\n      ...state,\n      [currentSetup]: {\n        ...state[currentSetup],\n        playlist: action.playlist\n      }\n    };\n\n  case 'setTime':\n    return {\n      ...state,\n      [currentSetup]: {\n        ...state[currentSetup],\n        time: action.time\n      }\n    };\n\n  case 'reset':\n    return {\n      ...initialState\n    };\n\n  default:\n    throw new Error(`Unknown action: ${ action.type }`);\n  }\n}\n","import React, { useReducer, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Header from 'components/Header';\nimport Button from 'components/Button';\nimport PlaylistsSelector from 'modules/PlaylistsSelector';\n\nimport { reducer, initialState } from './reducer';\nimport { STAGE } from './consts';\nimport './styles.scss';\n\nexport default function Setup({ setPlaylists }) {\n  const [ state, dispatch ] = useReducer(reducer, initialState);\n\n  const { currentSetup, isValid, work, rest } = state;\n  const { label, playlist, time } = state[currentSetup];\n\n\n  useEffect(() => {\n    dispatch({ type: 'validate' });\n  }, [ playlist, time ]);\n\n  useEffect(() => {\n    setPlaylists([ work, rest ]);\n  }, [ setPlaylists, work, rest ]);\n\n\n  const isWorkSetup = currentSetup === STAGE.WORK;\n  const nextButtonContent = isWorkSetup ? 'Next' : <Link to=\"/player\">Start session</Link>;\n\n  return (\n    <div className=\"Setup\">\n      <Header label={label}/>\n      <PlaylistsSelector\n        label={label}\n        playlist={playlist}\n        time={time}\n        syncPlaylist={(value => dispatch({ type: 'setPlaylist', playlist: value }))}\n        setTime={(value => dispatch({ type: 'setTime', time: value }))}/>\n      <div className=\"Setup__buttons\">\n        <Button onClick={() => dispatch({ type: 'back' })} isHidden={isWorkSetup}>\n          Back\n        </Button>\n        <Button onClick={() => dispatch({ type: 'next' })} isDisabled={isWorkSetup ? false : !isValid}>\n          {nextButtonContent}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nSetup.propTypes = {\n  setPlaylists: PropTypes.func\n};\n","import React, { useEffect, useState } from 'react';\nimport { useTransition, animated } from 'react-spring';\nimport {\n  Switch,\n  Route,\n  useLocation\n} from 'react-router-dom';\n\nimport TokenContext from 'context/token';\nimport { getToken } from 'services/spotifyAuth';\n\nimport Intro from 'pages/Intro';\nimport Player from 'pages/Player';\nimport Setup from 'pages/Setup';\nimport './App.scss';\n\nfunction App() {\n  const [ token, setToken ] = useState('');\n  const [ playlists, setPlaylists ] = useState([]);\n\n  const location = useLocation();\n  const transitions = useTransition(location, current => current.pathname, {\n    from: { opacity: 0, position: 'absolute' },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  });\n\n  useEffect(() => {\n    const currentToken = getToken();\n\n    currentToken && setToken(currentToken);\n  }, []);\n\n  return transitions.map(({ item: itemLocation, props, key }) => (\n    <animated.div key={key} style={props} className=\"App\">\n      <TokenContext.Provider value={token}>\n        <Switch location={itemLocation}>\n          <Route path=\"/setup\">\n            <Setup\n              setPlaylists={setPlaylists}/>\n          </Route>\n          <Route path=\"/player\">\n            <Player playlists={playlists}/>\n          </Route>\n          <Route exact path=\"/\">\n            <Intro />\n          </Route>\n        </Switch>\n      </TokenContext.Provider>\n    </animated.div>\n  ));\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<React.StrictMode>\n  <BrowserRouter basename={`${ process.env.REACT_APP_MAIN_ROUTE }/`}>\n    <App />\n  </BrowserRouter>\n</React.StrictMode>,\ndocument.getElementById('root'));\n\n/*\n * If you want to start measuring performance in your app, pass a function\n * to log results (for example: reportWebVitals(console.log))\n * or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n */\nreportWebVitals();\n"],"sourceRoot":""}